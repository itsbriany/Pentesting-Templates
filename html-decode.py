import argparse
import html
from pathlib import Path

def load_html(file_path):
   with file_path.open('r') as fp:
    return fp.read()

def run(args):
    unescaped_html = load_html(Path(args.html))
    print(html.unescape(unescaped_html))

if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='HTML decode all entities in a file.')
    parser.add_argument('--html', dest='html', type=str, help='the file with html entities', required=True)

    try:
        args = parser.parse_args()
        run(args)
    except argparse.ArgumentError as e:
        print("[!] {}".format(e))
        parser.print_usage()
        sys.exit(1)
