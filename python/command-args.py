import argparse
import requests


g_PROXIES = {
    "http": "http://localhost:8080",
    "https": "https://localhost:8080"
}


def run(args):
	data = {
		'foo': 'bar',
		'bar': 1
	}
	req = requests.post(args.url, data=data, proxies=g_PROXIES, verify=False)
	pass


def str2bool(v):
    if isinstance(v, bool):
        return v
    if v.lower() in ('yes', 'true', 'True', 't', 'y', '1'):
        return True
    elif v.lower() in ('no', 'false', 'False', 'f', 'n', '0'):
        return False
    else:
        raise argparse.ArgumentTypeError('Boolean value expected.')


if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='Template Description.')
    parser.add_argument('--some-url', dest='url', type=str, help='the target url', required=True)
    parser.add_argument('--some-bool', dest='some_bool', type=str2bool, nargs='?', const=True, default=False, help='the target url')

    try:
        args = parser.parse_args()
		run(args)
    except argparse.ArgumentError as e:
        print("[!] {}".format(e))
        parser.print_usage()
        sys.exit(1)
